import{a as e,S as t,J as s}from"./index-BYAPVeao.js";import{r as a,F as r,U as l,c as o,d as i,A as n,D as c,e as d,B as m,f as u}from"./ui-vendor-Ct0kQXbb.js";import{a as p}from"./pdf-CVlQhOZd.js";import g from"./pdf.worker.min-CElaEpGn.js";import{U as h}from"./UTIF-tYB3GUZm.js";import"./react-vendor-RxPattl9.js";import"./___vite-browser-external_commonjs-proxy-C1hm88sc.js";import"./__vite-browser-external-CfyHAoLP.js";import"./index-SnXRF_kC.js";p.GlobalWorkerOptions.workerSrc=g;const x=a.createContext(()=>{}),f=()=>a.useContext(x),b=({children:t})=>{const[s,r]=a.useState(null),[l,o]=a.useState("success");return a.useEffect(()=>{if(s){const e=setTimeout(()=>r(null),4e3);return()=>clearTimeout(e)}},[s]),e.jsxs(x.Provider,{value:(e,t="success")=>{r(e),o(t)},children:[t,s&&e.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:9999},children:e.jsx("div",{className:"px-4 py-2 rounded shadow-lg text-white "+("error"===l?"bg-red-600":"bg-green-600"),children:s})})]})},v=(e,t,s=1.7)=>e/t>s,j=e=>{const t=Math.floor(e.width/2),s=document.createElement("canvas");s.width=t,s.height=e.height;const a=s.getContext("2d");a&&a.drawImage(e,0,0,t,e.height,0,0,t,e.height);const r=document.createElement("canvas");r.width=t,r.height=e.height;const l=r.getContext("2d");return l&&l.drawImage(e,t,0,t,e.height,0,0,t,e.height),{left:s,right:r}},w=e=>{switch(e){case"png":return"image/png";case"webp":return"image/webp";case"tiff":return"image/tiff";default:return"image/jpeg"}},y=()=>{const[g,x]=a.useState([]),[b,y]=a.useState([]),[N,P]=a.useState(!1),[F,D]=a.useState(!1),[C,$]=a.useState(null),[k,S]=a.useState({resolution:300,quality:90,pageRange:"all",includeMetadata:!0,autoSplitDoublePages:!0,splitThreshold:1.7,outputFormat:"jpg"}),I=a.useRef(null),[R,U]=a.useState(null),L=a.useRef(null),[E,G]=a.useState(null),[T,q]=a.useState(null),[A,O]=a.useState({success:0,failed:0,split:0}),[W,_]=a.useState([]),B=f(),J=async(e,t,s)=>{const a=await e.getPage(t),r=a.getViewport({scale:k.resolution/72}),l=document.createElement("canvas"),o=l.getContext("2d");if(!o)throw new Error("Canvas context not available");l.width=r.width,l.height=r.height,await a.render({canvasContext:o,viewport:r}).promise;if(k.autoSplitDoublePages&&v(l.width,l.height,k.splitThreshold)){const{left:e,right:a}=j(l);return[await M(e,t,s,"left"),await M(a,t,s,"right")]}return[await M(l,t,s)]},M=async(e,t,s,a)=>{const r=k.outputFormat,l=(e=>{switch(e){case"png":return"png";case"webp":return"webp";case"tiff":return"tiff";default:return"jpg"}})(r),o=s.replace(/\.pdf$/i,""),i=a?`_${a}`:"";return new Promise((s,a)=>{if("tiff"===r)(e=>new Promise((t,s)=>{try{const a=e.getContext("2d");if(!a)return void s(new Error("Canvas context not available"));const r=a.getImageData(0,0,e.width,e.height),l=h.encodeImageData(r);t(new Blob([l],{type:"image/tiff"}))}catch(a){s(a)}}))(e).then(e=>{s({name:`${o}_page${t}${i}.${l}`,blob:e})}).catch(e=>{a(new Error(`Failed to create TIFF blob for page ${t}: ${e.message}`))});else{const n=w(r),c="jpg"===r?k.quality/100:void 0;e.toBlob(e=>{e?s({name:`${o}_page${t}${i}.${l}`,blob:e}):a(new Error(`Failed to create ${r.toUpperCase()} blob for page ${t}`))},n,c)}})},H=a.useCallback(async()=>{if(0!==g.length)try{const e=g[0],t=await e.arrayBuffer(),s=await p.getDocument({data:t}).promise,a=await s.getPage(1),r=a.getViewport({scale:k.resolution/72}),l=document.createElement("canvas"),o=l.getContext("2d");if(!o)return;l.width=r.width,l.height=r.height,await a.render({canvasContext:o,viewport:r}).promise;if(k.autoSplitDoublePages&&v(l.width,l.height,k.splitThreshold)){const{left:e}=j(l);z(e)}else z(l)}catch(e){$(null)}},[g,k]),z=e=>{const t=k.outputFormat,s=w(t),a="jpg"===t?k.quality/100:void 0;"tiff"===t?e.toBlob(e=>{if(e){const t=URL.createObjectURL(e);L.current&&URL.revokeObjectURL(L.current),$(t),L.current=t}},"image/png"):e.toBlob(e=>{if(e){const t=URL.createObjectURL(e);L.current&&URL.revokeObjectURL(L.current),$(t),L.current=t}},s,a)};a.useEffect(()=>{g.length>0&&H()},[H]),a.useEffect(()=>()=>{L.current&&URL.revokeObjectURL(L.current)},[]);const Q=[{icon:e.jsx(r,{className:"h-6 w-6"}),title:"Multi-Format Conversion",description:"Convert PDF pages to JPG, PNG, WebP, or TIFF formats with high quality"},{icon:e.jsx(i,{className:"h-6 w-6"}),title:"Auto-Split Double Pages",description:"Automatically detect and split double-page spreads into separate images"},{icon:e.jsx(d,{className:"h-6 w-6"}),title:"Format Flexibility",description:"Choose the perfect format for your needs - lossy or lossless compression"},{icon:e.jsx(m,{className:"h-6 w-6"}),title:"High Resolution Output",description:"Convert PDF pages to crisp, high-resolution images up to 300 DPI"},{icon:e.jsx(u,{className:"h-6 w-6"}),title:"Batch Processing",description:"Convert multiple PDF pages or entire documents in one operation"}],V={jpg:{name:"JPG",description:"Lossy compression, smaller file size",quality:!0},png:{name:"PNG",description:"Lossless compression, supports transparency",quality:!1},webp:{name:"WebP",description:"Modern format, excellent compression",quality:!0},tiff:{name:"TIFF",description:"High quality, professional format",quality:!1}};return e.jsxs(e.Fragment,{children:[e.jsx(t,{title:"PDF to Image Converter | Multi-Format Export (JPG, PNG, WebP, TIFF)",description:"Convert your PDF to multiple image formats: JPG, PNG, WebP, and TIFF. Extract pages with automatic double-page splitting. No registration, no watermarks.",keywords:"PDF to JPG, PDF to PNG, PDF to WebP, PDF to TIFF, PDF to image converter, PDF converter, multi-format converter",canonical:"pdf-to-image",ogImage:"/images/pdf-to-image-og.jpg"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100",children:e.jsx("section",{className:"pt-20 pb-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-violet-600 to-blue-600 text-white px-4 py-2 rounded-full text-sm font-medium mb-6",children:[e.jsx(r,{className:"h-4 w-4"}),e.jsx("span",{children:"Multi-Format PDF to Image Converter"})]}),e.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6",children:"PDF to Image Converter"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8 leading-relaxed",children:"Convert your PDF documents to JPG, PNG, WebP, or TIFF formats with automatic double-page splitting, precise page rendering, and batch processing capabilities."})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8 mb-16",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"border-2 border-dashed rounded-2xl p-12 text-center transition-all duration-300 "+(g.length>0?"border-violet-500 bg-violet-50/50":"border-gray-300 hover:border-violet-400 hover:bg-gray-50"),onDrop:e=>{e.preventDefault();const t=Array.from(e.dataTransfer.files).filter(e=>"application/pdf"===e.type||e.name.endsWith(".pdf"));x(e=>[...e,...t]),D(!1),y([]),$(null)},onDragOver:e=>{e.preventDefault()},onClick:()=>{var e;return null==(e=I.current)?void 0:e.click()},style:{cursor:"pointer"},children:[e.jsx(l,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Drop your PDF file here"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"or click to browse files from your computer"}),e.jsx("button",{onClick:e=>{var t;e.stopPropagation(),null==(t=I.current)||t.click()},className:"bg-gradient-to-r from-violet-600 to-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-200",children:"Choose PDF File"}),e.jsx("input",{ref:I,type:"file",accept:"application/pdf",onChange:e=>{const t=Array.from(e.target.files||[]).filter(e=>"application/pdf"===e.type||e.name.endsWith(".pdf"));x(t),D(!1),y([]),$(null)},className:"hidden"})]})}),C&&e.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Live Preview"}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:C,alt:"PDF to Image Preview",className:"rounded-xl shadow-lg max-w-xs max-h-80 border border-violet-200",style:{background:"#f3f4f6"}}),k.autoSplitDoublePages&&e.jsx("div",{className:"absolute top-2 right-2 bg-violet-600 text-white px-2 py-1 rounded text-xs",children:"Auto-Split Enabled"}),e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white px-2 py-1 rounded text-xs",children:V[k.outputFormat].name})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Preview updates instantly as you change settings"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(o,{className:"h-5 w-5 text-violet-600"}),e.jsx("span",{children:"Conversion Settings"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Output Format"}),e.jsxs("select",{value:k.outputFormat,onChange:e=>S(t=>({...t,outputFormat:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:[e.jsx("option",{value:"jpg",children:"JPG - Lossy compression, smaller files"}),e.jsx("option",{value:"png",children:"PNG - Lossless, supports transparency"}),e.jsx("option",{value:"webp",children:"WebP - Modern format, excellent compression"}),e.jsx("option",{value:"tiff",children:"TIFF - High quality, professional format"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:V[k.outputFormat].description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resolution (DPI)"}),e.jsxs("select",{value:k.resolution,onChange:e=>S(t=>({...t,resolution:parseInt(e.target.value)})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:[e.jsx("option",{value:72,children:"72 DPI (Web)"}),e.jsx("option",{value:150,children:"150 DPI (Print)"}),e.jsx("option",{value:300,children:"300 DPI (High Quality)"}),e.jsx("option",{value:600,children:"600 DPI (Ultra High)"})]})]})]}),V[k.outputFormat].quality&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality (%)"}),e.jsx("input",{type:"range",min:"1",max:"100",value:k.quality,onChange:e=>S(t=>({...t,quality:parseInt(e.target.value)})),className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[k.quality,"%"]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"autoSplit",checked:k.autoSplitDoublePages,onChange:e=>S(t=>({...t,autoSplitDoublePages:e.target.checked})),className:"h-4 w-4 text-violet-600 focus:ring-violet-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"autoSplit",className:"flex items-center space-x-2 text-sm font-medium text-gray-700",children:[e.jsx(i,{className:"h-4 w-4 text-violet-600"}),e.jsx("span",{children:"Auto-split double-page spreads"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-7",children:"Automatically detect and split wide pages (like book spreads) into two separate images"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:async()=>{if(0!==g.length){P(!0),q(null),G({current:0,total:g.length}),O({success:0,failed:0,split:0}),_([]);try{const s=[];let a=0,r=0,l=0;const o=[];for(let i=0;i<g.length;i++){const n=g[i];try{const t=await n.arrayBuffer(),c=await p.getDocument({data:t}).promise;let d=[];if("all"===k.pageRange)d=Array.from({length:c.numPages},(e,t)=>t+1);else{const e=k.pageRange.split(",").map(e=>e.trim());for(const t of e)if(t.includes("-")){const[e,s]=t.split("-").map(Number);for(let t=e;t<=s;t++)d.push(t)}else d.push(Number(t));d=d.filter(e=>e>=1&&e<=c.numPages)}for(let m=0;m<d.length;m++){const t=d[m];try{const e=await J(c,t,n.name);s.push(...e),a+=e.length,e.length>1?(l++,o.push({file:n.name,page:t,status:"success",split:!0})):o.push({file:n.name,page:t,status:"success",split:!1})}catch(e){q(`Failed to process page ${t} of ${n.name}: ${e}`),r++,o.push({file:n.name,page:t,status:"fail",message:String(e)})}G({current:i+(m+1)/d.length,total:g.length})}}catch(t){q(`Failed to process file ${n.name}: ${t}`),r++,o.push({file:n.name,page:-1,status:"fail",message:String(t)}),B(`Failed to process file ${n.name}: ${t}`,"error")}G({current:i+1,total:g.length})}if(y(s),P(!1),D(s.length>0),G(null),O({success:a,failed:r,split:l}),_(o),0===s.length)q("No valid PDF pages were processed. Please check your files."),B("No valid PDF pages were processed. Please check your files.","error");else{const e=k.outputFormat.toUpperCase();B(`PDF to ${e} conversion completed! ${a} images created${l>0?` (${l} double-page spreads split)`:""}`,"success")}}catch(s){q("Error processing files. Please try again."),P(!1),G(null),O({success:0,failed:g.length,split:0}),_([]),B("Error processing files. Please try again.","error")}}},disabled:0===g.length||N,className:"flex-1 bg-gradient-to-r from-violet-600 to-blue-600 text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:N?e.jsx("span",{children:"Converting..."}):e.jsxs(e.Fragment,{children:[e.jsx(n,{className:"h-5 w-5"}),e.jsxs("span",{children:["Convert to ",V[k.outputFormat].name]})]})}),F&&e.jsxs("button",{onClick:async()=>{if(0===b.length)return void B("No processed files to download","error");const e=b.filter(e=>e.blob.size>0);if(0!==e.length){if(1===e.length){const t=document.createElement("a");t.href=URL.createObjectURL(e[0].blob),t.download=e[0].name,t.click()}else{const t=new s;e.forEach(e=>{t.file(e.name,e.blob)});const a=await t.generateAsync({type:"blob"}),r=document.createElement("a"),l=k.outputFormat.toUpperCase();r.href=URL.createObjectURL(a),r.download=`pdf-to-${l.toLowerCase()}-images.zip`,r.click()}x([]),y([]),D(!1),$(null)}else B("All output files are empty. Conversion failed.","error")},className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(c,{className:"h-5 w-5"}),e.jsx("span",{children:"Download All"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-16",children:Q.map((t,s)=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[e.jsx("div",{className:"text-violet-600 mb-4",children:t.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]},s))}),E&&e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-violet-500",style:{width:E.current/E.total*100+"%"}})}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Processing ",E.current," of ",E.total," files..."]})]}),T&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg border border-red-200",children:T}),A.success+A.failed>0&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 text-blue-800 rounded-lg border border-blue-200",children:["Conversion summary: ",A.success," image(s) created, ",A.failed," failed.",A.split>0&&e.jsxs("span",{className:"text-violet-600 ml-2",children:[A.split," double-page spreads were split."]}),A.failed>0&&e.jsx("span",{className:"text-red-600 ml-2",children:"Some pages could not be processed."})]}),W.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 text-gray-800 rounded-lg border border-gray-200 max-h-60 overflow-y-auto text-xs",children:[e.jsx("div",{className:"font-bold mb-1",children:"Per-page results:"}),e.jsx("ul",{children:W.map((t,s)=>e.jsx("li",{className:"success"===t.status?"text-green-700":"text-red-700",children:"success"===t.status?`✔️ ${t.file} - page ${t.page} converted successfully${t.split?" (split into 2 images)":""}.`:`❌ ${t.file} - page ${t.page>0?t.page:""} failed: ${t.message}`},s))})]})]})})})]})},N=()=>e.jsx(b,{children:e.jsx(y,{})});export{N as default,f as useNotification};
