import{g as t}from"./react-vendor-RxPattl9.js";function s(t,s){for(var i=0;i<s.length;i++){const h=s[i];if("string"!=typeof h&&!Array.isArray(h))for(const s in h)if("default"!==s&&!(s in t)){const i=Object.getOwnPropertyDescriptor(h,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>h[s]})}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var i,h,e,r,a,o;var f=function(){if(o)return a;o=1;var t=function(){if(h)return i;function t(t){this.buffer=t.data,this.width=t.width,this.height=t.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}return h=1,t.prototype.encode=function(){var t=new Buffer(this.offset+this.rgbSize);this.pos=0,t.write(this.flag,this.pos,2),this.pos+=2,t.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,t.writeUInt32LE(this.reserved,this.pos),this.pos+=4,t.writeUInt32LE(this.offset,this.pos),this.pos+=4,t.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,t.writeUInt32LE(this.width,this.pos),this.pos+=4,t.writeInt32LE(-this.height,this.pos),this.pos+=4,t.writeUInt16LE(this.planes,this.pos),this.pos+=2,t.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,t.writeUInt32LE(this.compress,this.pos),this.pos+=4,t.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,t.writeUInt32LE(this.hr,this.pos),this.pos+=4,t.writeUInt32LE(this.vr,this.pos),this.pos+=4,t.writeUInt32LE(this.colors,this.pos),this.pos+=4,t.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var s=0,i=3*this.width+this.extraBytes,h=0;h<this.height;h++){for(var e=0;e<this.width;e++){var r=this.pos+h*i+3*e;s++,t[r]=this.buffer[s++],t[r+1]=this.buffer[s++],t[r+2]=this.buffer[s++]}if(this.extraBytes>0){var a=this.pos+h*i+3*this.width;t.fill(0,a,a+this.extraBytes)}}return t},i=function(s,i){return{data:new t(s).encode(),width:s.width,height:s.height}}}(),s=function(){if(r)return e;function t(t,s){if(this.pos=0,this.buffer=t,this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}return r=1,t.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var s=0;s<t;s++){var i=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);this.palette[s]={red:e,green:h,blue:i,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},t.prototype.parseRGBA=function(){var t="bit"+this.bitPP,s=this.width*this.height*4;this.data=new Buffer(s),this[t]()},t.prototype.bit1=function(){var t=Math.ceil(this.width/8),s=t%4,i=this.height>=0?this.height-1:-this.height;for(i=this.height-1;i>=0;i--){for(var h=this.bottom_up?i:this.height-1-i,e=0;e<t;e++)for(var r=this.buffer.readUInt8(this.pos++),a=h*this.width*4+8*e*4,o=0;o<8&&8*e+o<this.width;o++){var f=this.palette[r>>7-o&1];this.data[a+4*o]=0,this.data[a+4*o+1]=f.blue,this.data[a+4*o+2]=f.green,this.data[a+4*o+3]=f.red}0!=s&&(this.pos+=4-s)}},t.prototype.bit4=function(){if(2==this.compress){let p=function(s){var i=this.palette[s];this.data[t]=0,this.data[t+1]=i.blue,this.data[t+2]=i.green,this.data[t+3]=i.red,t+=4};this.data.fill(255);for(var t=0,s=this.bottom_up?this.height-1:0,i=!1;t<this.data.length;){var h=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++);if(0==h){if(0==e){this.bottom_up?s--:s++,t=s*this.width*4,i=!1;continue}if(1==e)break;if(2==e){var r=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.bottom_up?s-=a:s+=a,t+=a*this.width*4+4*r}else{for(var o=this.buffer.readUInt8(this.pos++),f=0;f<e;f++)i?p.call(this,15&o):p.call(this,(240&o)>>4),1&f&&f+1<e&&(o=this.buffer.readUInt8(this.pos++)),i=!i;1==(e+1>>1&1)&&this.pos++}}else for(f=0;f<h;f++)i?p.call(this,15&e):p.call(this,(240&e)>>4),i=!i}}else{var p=Math.ceil(this.width/2),d=p%4;for(a=this.height-1;a>=0;a--){var n=this.bottom_up?a:this.height-1-a;for(r=0;r<p;r++){e=this.buffer.readUInt8(this.pos++),t=n*this.width*4+2*r*4;var u=e>>4,b=15&e,l=this.palette[u];if(this.data[t]=0,this.data[t+1]=l.blue,this.data[t+2]=l.green,this.data[t+3]=l.red,2*r+1>=this.width)break;l=this.palette[b],this.data[t+4]=0,this.data[t+4+1]=l.blue,this.data[t+4+2]=l.green,this.data[t+4+3]=l.red}0!=d&&(this.pos+=4-d)}}},t.prototype.bit8=function(){if(1==this.compress){let f=function(s){var i=this.palette[s];this.data[t]=0,this.data[t+1]=i.blue,this.data[t+2]=i.green,this.data[t+3]=i.red,t+=4};this.data.fill(255);for(var t=0,s=this.bottom_up?this.height-1:0;t<this.data.length;){var i=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++);if(0==i){if(0==h){this.bottom_up?s--:s++,t=s*this.width*4;continue}if(1==h)break;if(2==h){var e=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);this.bottom_up?s-=r:s+=r,t+=r*this.width*4+4*e}else{for(var a=0;a<h;a++){var o=this.buffer.readUInt8(this.pos++);f.call(this,o)}!0&h&&this.pos++}}else for(a=0;a<i;a++)f.call(this,h)}}else{var f=this.width%4;for(r=this.height-1;r>=0;r--){var p=this.bottom_up?r:this.height-1-r;for(e=0;e<this.width;e++)if(h=this.buffer.readUInt8(this.pos++),t=p*this.width*4+4*e,h<this.palette.length){var d=this.palette[h];this.data[t]=0,this.data[t+1]=d.blue,this.data[t+2]=d.green,this.data[t+3]=d.red}else this.data[t]=0,this.data[t+1]=255,this.data[t+2]=255,this.data[t+3]=255;0!=f&&(this.pos+=4-f)}}},t.prototype.bit15=function(){for(var t=this.width%3,s=parseInt("11111",2),i=this.height-1;i>=0;i--){for(var h=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.buffer.readUInt16LE(this.pos);this.pos+=2;var a=(r&s)/s*255|0,o=(r>>5&s)/s*255|0,f=(r>>10&s)/s*255|0,p=r>>15?255:0,d=h*this.width*4+4*e;this.data[d]=p,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=f}this.pos+=t}},t.prototype.bit16=function(){var t=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var s=[0,0,0],i=0;i<16;i++)this.maskRed>>i&1&&s[0]++,this.maskGreen>>i&1&&s[1]++,this.maskBlue>>i&1&&s[2]++;s[1]+=s[0],s[2]+=s[1],s[0]=8-s[0],s[1]-=8,s[2]-=8;for(var h=this.height-1;h>=0;h--){for(var e=this.bottom_up?h:this.height-1-h,r=0;r<this.width;r++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var o=(a&this.maskBlue)<<s[0],f=(a&this.maskGreen)>>s[1],p=(a&this.maskRed)>>s[2],d=e*this.width*4+4*r;this.data[d]=0,this.data[d+1]=o,this.data[d+2]=f,this.data[d+3]=p}this.pos+=t}},t.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var h=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),a=s*this.width*4+4*i;this.data[a]=0,this.data[a+1]=h,this.data[a+2]=e,this.data[a+3]=r}this.pos+=this.width%4}},t.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var t=this.height-1;t>=0;t--)for(var s=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var h=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),o=s*this.width*4+4*i;this.data[o]=h,this.data[o+1]=e,this.data[o+2]=r,this.data[o+3]=a}}else for(t=this.height-1;t>=0;t--)for(s=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++)e=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++),o=s*this.width*4+4*i,this.data[o]=h,this.data[o+1]=e,this.data[o+2]=r,this.data[o+3]=a},t.prototype.getData=function(){return this.data},e=function(s){return new t(s)}}();return a={encode:t,decode:s}}();const p=s({__proto__:null,default:t(f)},[f]);export{p as i};
