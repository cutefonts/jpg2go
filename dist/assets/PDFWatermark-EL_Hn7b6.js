import{a as e,S as t}from"./index-BYAPVeao.js";import{r as a,I as r,U as s,e as l,p as i,D as o,b as n,Z as c,S as d}from"./ui-vendor-Ct0kQXbb.js";import{PDFDocument as m,StandardFonts as x,rgb as h}from"./index-GpLGME15.js";import{a as p}from"./pdf-CVlQhOZd.js";import g from"./pdf.worker.min-CElaEpGn.js";import"./react-vendor-RxPattl9.js";import"./index-SnXRF_kC.js";import"./___vite-browser-external_commonjs-proxy-C1hm88sc.js";import"./__vite-browser-external-CfyHAoLP.js";p.GlobalWorkerOptions.workerSrc=g;const u=()=>{const[g,u]=a.useState([]),[b,f]=a.useState(!1),[w,j]=a.useState([]),[v,y]=a.useState({watermarkType:"text",watermarkText:"CONFIDENTIAL",watermarkImage:null,position:"center",opacity:50,fontSize:24,color:"#000000"}),k=a.useRef(null),N=a.useRef(null),[F,P]=a.useState(null),[D,T]=a.useState(null),[S,C]=a.useState(!1),[I,W]=a.useState(null),[A,R]=a.useState(null),z=[{icon:e.jsx(r,{className:"h-6 w-6"}),title:"Text & Image Watermarks",description:"Add text or image watermarks to your PDFs"},{icon:e.jsx(d,{className:"h-6 w-6"}),title:"Secure Processing",description:"Files processed locally, privacy guaranteed"},{icon:e.jsx(c,{className:"h-6 w-6"}),title:"Customizable Options",description:"Control position, opacity, and styling"},{icon:e.jsx(n,{className:"h-6 w-6"}),title:"Batch Processing",description:"Watermark multiple PDFs at once"}],U=[{icon:e.jsx(n,{className:"h-5 w-5"}),value:"750K+",label:"PDFs Watermarked"},{icon:e.jsx(c,{className:"h-5 w-5"}),value:"< 30s",label:"Processing Time"},{icon:e.jsx(d,{className:"h-5 w-5"}),value:"100%",label:"Secure & Private"},{icon:e.jsx(l,{className:"h-5 w-5"}),value:"Free",label:"No Registration"}];return a.useEffect(()=>((async()=>{if(0!==g.length)try{const e=g[0],t=await e.arrayBuffer(),a=await p.getDocument({data:t}).promise,r=await a.getPage(1),s=r.getViewport({scale:1.2}),l=document.createElement("canvas"),i=l.getContext("2d");if(!i)return void R(null);if(l.width=s.width,l.height=s.height,await r.render({canvasContext:i,viewport:s}).promise,i.save(),i.globalAlpha=v.opacity/100,"text"===v.watermarkType){i.font=`${v.fontSize}px Helvetica, Arial, sans-serif`,i.fillStyle=v.color,i.textBaseline="middle",i.textAlign="center";let e=l.width/2,t=l.height/2;"top-left"===v.position?(e=50,t=50):"top-right"===v.position?(e=l.width-50,t=50):"bottom-left"===v.position?(e=50,t=l.height-50):"bottom-right"===v.position&&(e=l.width-50,t=l.height-50),i.fillText(v.watermarkText,e,t)}else if("image"===v.watermarkType&&I){const e=new window.Image;return e.onload=()=>{let t=e.width,a=e.height;const r=Math.min(l.width/t*.3,l.height/a*.3);t*=r,a*=r;let s=(l.width-t)/2,o=(l.height-a)/2;"top-left"===v.position?(s=50,o=50):"top-right"===v.position?(s=l.width-t-50,o=50):"bottom-left"===v.position?(s=50,o=l.height-a-50):"bottom-right"===v.position&&(s=l.width-t-50,o=l.height-a-50),i.drawImage(e,s,o,t,a),i.restore(),l.toBlob(e=>{e&&R(URL.createObjectURL(e))},"image/png")},void(e.src=I)}i.restore(),l.toBlob(e=>{e&&R(URL.createObjectURL(e))},"image/png")}catch(e){R(null)}else R(null)})(),()=>{A&&URL.revokeObjectURL(A)}),[g,v,I]),e.jsxs(e.Fragment,{children:[e.jsx(t,{title:"PDF Watermark | Add Watermarks to PDF Files Online",description:"Protect your documents by adding custom watermarks to PDFs with our free online PDF watermark tool. Easy to use and no installation required.",keywords:"PDF watermark, add watermark to PDF, PDF branding, copyright protection, PDF tool, online watermark, free tool",canonical:"pdf-watermark",ogImage:"/images/pdf-watermark-og.jpg"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100",children:[S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-violet-600 mb-4"}),e.jsx("span",{className:"text-white text-lg font-semibold",children:"Processing PDFs..."})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto pt-4",children:[F&&e.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:F})}),D&&e.jsx("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"status",children:e.jsx("span",{className:"block sm:inline",children:D})})]}),e.jsx("section",{className:"pt-20 pb-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-violet-600 to-blue-600 text-white px-4 py-2 rounded-full text-sm font-medium mb-6",children:[e.jsx(r,{className:"h-4 w-4"}),e.jsx("span",{children:"PDF Watermark"})]}),e.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6",children:"Add Watermarks to PDF Documents Online"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8 leading-relaxed",children:"Add text or image watermarks to your PDF documents. Perfect for branding, copyright protection, and document identification."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:U.map((t,a)=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx("div",{className:"text-violet-600",children:t.icon}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.value})]}),e.jsx("div",{className:"text-sm text-gray-600",children:t.label})]},a))})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8 mb-16",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"border-2 border-dashed rounded-2xl p-12 text-center transition-all duration-300 "+(g.length>0?"border-violet-500 bg-violet-50/50":"border-gray-300 hover:border-violet-400 hover:bg-gray-50"),onDrop:e=>{e.preventDefault(),P(null),T(null);const t=Array.from(e.dataTransfer.files),a=t.filter(e=>{const t="application/pdf"===e.type,a=e.size<=52428800;return t&&a});a.length!==t.length&&P("Some files were skipped. Please ensure all files are PDFs under 50MB."),u(e=>{const t=new Set(e.map(e=>e.name));return[...e,...a.filter(e=>!t.has(e.name))]})},onDragOver:e=>{e.preventDefault()},onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},style:{cursor:"pointer"},tabIndex:0,"aria-label":"Upload PDF files by clicking or dragging and dropping",onKeyDown:e=>{var t;"Enter"!==e.key&&" "!==e.key||null==(t=k.current)||t.click()},children:[e.jsx(s,{className:"h-12 w-12 text-gray-400 mx-auto mb-4","aria-hidden":"true"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Drop your PDF files here"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"or click to browse files from your computer"}),e.jsx("button",{onClick:e=>{var t;e.stopPropagation(),null==(t=k.current)||t.click()},className:"bg-gradient-to-r from-violet-600 to-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-200","aria-label":"Choose PDF Files",children:"Choose PDF Files"}),e.jsx("input",{ref:k,type:"file",multiple:!0,accept:"application/pdf",onChange:e=>{P(null),T(null);const t=Array.from(e.target.files||[]),a=t.filter(e=>{const t="application/pdf"===e.type,a=e.size<=52428800;return t&&a});a.length!==t.length&&P("Some files were skipped. Please ensure all files are PDFs under 50MB."),u(e=>{const t=new Set(e.map(e=>e.name));return[...e,...a.filter(e=>!t.has(e.name))]})},className:"hidden","aria-label":"PDF file input"})]})}),g.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(l,{className:"h-5 w-5 text-violet-600"}),e.jsxs("span",{children:["Selected PDFs (",g.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map((t,a)=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center space-x-3",children:[e.jsx(l,{className:"h-8 w-8 text-violet-600"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}),e.jsx("button",{onClick:()=>(e=>{u(t=>t.filter((t,a)=>a!==e))})(a),className:"text-red-500 hover:text-red-700 transition-colors",children:"Ã—"})]},a))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(r,{className:"h-5 w-5 text-violet-600"}),e.jsx("span",{children:"Live Preview"})]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:A?e.jsx("img",{src:A,alt:"PDF watermark preview",className:"mx-auto max-h-96 w-auto object-contain border shadow"}):e.jsx("p",{className:"text-gray-500",children:"No preview available. Upload a PDF to see a live preview of the watermark on the first page."})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(r,{className:"h-5 w-5 text-violet-600"}),e.jsx("span",{children:"Watermark Settings"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Watermark Type"}),e.jsxs("select",{value:v.watermarkType,onChange:e=>y(t=>({...t,watermarkType:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:[e.jsx("option",{value:"text",children:"Text Watermark"}),e.jsx("option",{value:"image",children:"Image Watermark"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),e.jsxs("select",{value:v.position,onChange:e=>y(t=>({...t,position:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent",children:[e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"top-left",children:"Top Left"}),e.jsx("option",{value:"top-right",children:"Top Right"}),e.jsx("option",{value:"bottom-left",children:"Bottom Left"}),e.jsx("option",{value:"bottom-right",children:"Bottom Right"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Opacity (",v.opacity,"%)"]}),e.jsx("input",{type:"range",min:"10",max:"100",value:v.opacity,onChange:e=>y(t=>({...t,opacity:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),"text"===v.watermarkType&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Watermark Text"}),e.jsx("input",{type:"text",value:v.watermarkText,onChange:e=>y(t=>({...t,watermarkText:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent",placeholder:"Enter watermark text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),e.jsx("input",{type:"number",min:"8",max:"72",value:v.fontSize,onChange:e=>y(t=>({...t,fontSize:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-violet-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),e.jsx("input",{type:"color",value:v.color,onChange:e=>y(t=>({...t,color:e.target.value})),className:"w-full h-10 border border-gray-300 rounded-lg cursor-pointer"})]})]}),"image"===v.watermarkType&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Watermark Image"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>{var e;return null==(e=N.current)?void 0:e.click()},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"Choose watermark image",children:"Choose Image"}),v.watermarkImage&&e.jsx("span",{className:"text-sm text-gray-600",children:v.watermarkImage.name}),e.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:e=>{const t=Array.from(e.target.files||[]);if(t.length>0){y(e=>({...e,watermarkImage:t[0]}));const e=new FileReader;e.onload=e=>{var t;return W(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(t[0])}},className:"hidden","aria-label":"Watermark image input"}),I&&e.jsx("img",{src:I,alt:"Watermark preview",className:"h-12 w-auto rounded shadow border ml-4"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:async()=>{if(0!==g.length){f(!0),C(!0),P(null),T(null);try{const t=[];for(const a of g)try{const r=await a.arrayBuffer(),s=await m.load(r),l=s.getPages(),i=v.color.startsWith("#")?v.color.slice(1):v.color,o=parseInt(i.slice(0,2),16)/255,n=parseInt(i.slice(2,4),16)/255,c=parseInt(i.slice(4,6),16)/255;let d;try{d=await s.embedFont(x.Helvetica)}catch{d=await s.embedFont(x.TimesRoman)}for(const t of l){const{width:a,height:r}=t.getSize();if("text"===v.watermarkType){const e=v.watermarkText,s=v.fontSize,l=d.widthOfTextAtSize(e,s),i=d.heightAtSize(s);let m,x;switch(v.position){case"top-left":m=50,x=r-50;break;case"top-right":m=a-l-50,x=r-50;break;case"bottom-left":m=50,x=50+i;break;case"bottom-right":m=a-l-50,x=50+i;break;default:m=(a-l)/2,x=(r+i)/2}t.drawText(e,{x:m,y:x,size:s,font:d,color:h(o,n,c),opacity:v.opacity/100})}else if("image"===v.watermarkType&&v.watermarkImage)try{const e=await v.watermarkImage.arrayBuffer();let l;if(v.watermarkImage.type.includes("png"))l=await s.embedPng(e);else{if(!v.watermarkImage.type.includes("jpeg")&&!v.watermarkImage.type.includes("jpg"))throw new Error("Unsupported image format");l=await s.embedJpg(e)}const{width:i,height:o}=l.scale(1),n=Math.min(a/i*.3,r/o*.3),c=i*n,d=o*n;let m,x;switch(v.position){case"top-left":m=50,x=r-d-50;break;case"top-right":m=a-c-50,x=r-d-50;break;case"bottom-left":m=50,x=50;break;case"bottom-right":m=a-c-50,x=50;break;default:m=(a-c)/2,x=(r-d)/2}t.drawImage(l,{x:m,y:x,width:c,height:d,opacity:v.opacity/100})}catch(e){alert("Error processing image watermark. Using text watermark instead.");const s="WATERMARK",l=v.fontSize,i=(a-d.widthOfTextAtSize(s,l))/2,m=(r+d.heightAtSize(l))/2;t.drawText(s,{x:i,y:m,size:l,font:d,color:h(o,n,c),opacity:v.opacity/100})}}const p=await s.save(),g=new Blob([p],{type:"application/pdf"});t.push({name:a.name.replace(/\.pdf$/i,"_watermarked.pdf"),blob:g})}catch(e){P(`Error processing ${a.name}. Skipping this file.`)}j(t),f(!1),C(!1),t.length>0?T(`PDF watermarking completed! Processed ${t.length} files.`):P("No files were processed. Please check your files and try again.")}catch(e){f(!1),C(!1),P("Error watermarking PDFs. Please try again.")}}},disabled:0===g.length||b,className:"flex-1 bg-gradient-to-r from-violet-600 to-blue-600 text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2","aria-label":"Add Watermark",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Adding Watermark..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Watermark"})]})}),e.jsxs("button",{onClick:()=>{u([]),j([]),P(null),T(null),y({watermarkType:"text",watermarkText:"CONFIDENTIAL",watermarkImage:null,position:"center",opacity:50,fontSize:24,color:"#000000"}),W(null),k.current&&(k.current.value=""),N.current&&(N.current.value="")},className:"bg-gray-200 text-gray-700 px-8 py-4 rounded-xl font-semibold hover:bg-gray-300 transition-all duration-200 flex items-center justify-center space-x-2","aria-label":"Reset Tool",type:"button",children:[e.jsx(i,{className:"h-5 w-5"}),e.jsx("span",{children:"Reset"})]}),w.length>0&&e.jsxs("button",{onClick:()=>{w.forEach(e=>{const t=URL.createObjectURL(e.blob),a=document.createElement("a");a.href=t,a.download=e.name,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(t),1e3)})},className:"bg-green-600 text-white px-8 py-4 rounded-xl font-semibold hover:bg-green-700 transition-all duration-200 flex items-center justify-center space-x-2","aria-label":"Download Watermarked Files",children:[e.jsx(o,{className:"h-5 w-5"}),e.jsx("span",{children:"Download Watermarked Files"})]})]})]}),e.jsxs("div",{className:"mb-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Why Choose Our PDF Watermark Tool?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Professional watermarking with customizable options and batch processing"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:z.map((t,a)=>e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 text-center",children:[e.jsx("div",{className:"inline-flex p-3 bg-gradient-to-br from-violet-500 to-blue-500 rounded-xl text-white mb-4",children:t.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]},a))})]}),e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl p-8 mb-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"How to Add Watermarks to PDF"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Follow these simple steps to watermark your documents"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{step:"1",title:"Upload PDF Files",description:"Drag and drop or browse to select your PDF documents"},{step:"2",title:"Configure Watermark",description:"Choose text or image and adjust settings"},{step:"3",title:"Apply & Download",description:"Download your watermarked PDF files"}].map((t,a)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-violet-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-white font-bold text-xl",children:t.step})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600",children:t.description})]},a))})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-gradient-to-r from-violet-600 via-purple-600 to-blue-600 rounded-3xl p-8 sm:p-12 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10 rounded-3xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Ready to Watermark Your PDFs?"}),e.jsx("p",{className:"text-xl text-violet-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of users who trust our PDF watermark tool for their document needs"}),e.jsxs("button",{onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},className:"bg-white text-violet-600 px-8 py-4 rounded-xl font-semibold hover:bg-gray-100 transition-all duration-200 flex items-center justify-center space-x-2 mx-auto",children:[e.jsx(r,{className:"h-5 w-5"}),e.jsx("span",{children:"Start Watermarking Now"})]})]})]})})]})})]})]})};export{u as default};
